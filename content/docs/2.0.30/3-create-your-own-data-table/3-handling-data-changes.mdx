---
posttype: "docs"
title: Handling data changes
metaTitle: "metaTitle"
metaDescription: "metaDescription"
---

## How it works in our app?

In this grid the flow of operations is based on the same steps. We will describe this flow in the points below on the example of selecting cells: 

1. first, when the user starts selecting cells, the event responsible for performing this action is dispatched, then is running proper behavior in which is passed global state containing all information about each cell

XXX IMG

2. Then based on coordination of mouse are made all calculations (which cells should be selected). All changes needed to reflection on the screen always return all old state with each new change (in this case position and size of selection visible above) to our main component ReactGrid, then is called once setState which causes render. 

## Handling data changes 

```tsx
private prepareDataChanges = (dataChanges: DataChange[]) => {
    const state = { ...this.state }
    dataChanges.forEach(change => {
        state.records.filter(r => r.id == change.rowId).forEach(r => {
            const field = this.state.fields.find(c => c.id == change.columnId)
            if (field !== undefined)
                r[field.name] = change.newData;
        })
    })
    return state
}

```